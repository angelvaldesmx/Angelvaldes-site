/* =========================================
   1. FUENTES Y VARIABLES
   ========================================= */
/* Identidad Antihéroe (Cómic & Moderno) */
@import url('https://fonts.googleapis.com/css2?family=Bangers&family=Courier+Prime:wght@400;700&family=Montserrat:wght@400;800&display=swap');
/* Identidad Ingenua (Romántica - Para la fase 1) */
@import url('https://fonts.googleapis.com/css2?family=Dancing+Script:wght@700&display=swap');

:root {
    /* --- PALETA ANTIHÉROE (MODO OSCURO) --- */
    --bg-color: #050505;
    --hero-yellow: #FFD700; /* Amarillo Taxi */
    --hero-red: #FF4500;    /* Rojo Cómic */
    --text-white: #ffffff;
    
    /* --- PALETA INGENUA (MODO PASTEL) --- */
    --naive-bg: #f3e5f5;      /* Lavanda suave */
    --naive-pink: #f8bbd0;    /* Rosa pastel */
    --naive-text: #880e4f;    /* Vino suave */
    
    /* --- UI CÓMIC --- */
    --comic-border: 3px solid #000;
    --comic-shadow: 6px 6px 0px #000;
}

body, html { 
    margin: 0; padding: 0; width: 100%; height: 100%; 
    background-color: var(--bg-color);
    color: var(--text-white);
    font-family: 'Montserrat', sans-serif;
    overflow: hidden; 
}

/* =========================================
   2. TEXTURA DE FONDO (BEN-DAY DOTS)
   ========================================= */
.halftone-overlay {
    position: fixed; top: 0; left: 0; width: 100%; height: 100%;
    background-image: radial-gradient(circle, #222 1px, transparent 1px);
    background-size: 20px 20px;
    opacity: 0; /* Inicia oculto, aparece en Fase 3 */
    pointer-events: none;
    z-index: 0;
    transition: opacity 2s ease;
}

/* Capas de Pantalla Completa */
.fullscreen-layer { 
    position: fixed; top: 0; left: 0; 
    width: 100%; height: 100%; z-index: 100; 
    display: flex; flex-direction: column; 
    justify-content: center; align-items: center; 
}
.hidden { display: none !important; opacity: 0; }

/* =========================================
   3. FASE 1: MODO INGENUO (Pastel)
   ========================================= */
#phase-old {
    background: var(--naive-bg);
    color: var(--naive-text);
    transition: filter 0.1s;
}

.naive-container {
    display: flex; flex-direction: column; align-items: center;
    text-align: center;
}

.old-cover { 
    max-width: 280px; 
    border: 10px solid white;
    box-shadow: 0 10px 30px rgba(136, 14, 79, 0.2);
    transform: rotate(0deg);
}

.naive-caption {
    font-family: 'Dancing Script', cursive;
    font-size: 2rem;
    margin-top: 1.5rem;
    color: var(--naive-text);
}

/* =========================================
   4. FASE 2: EL GLITCH (CORREGIDO)
   ========================================= */
#glitch-overlay {
    background: black;
    z-index: 200;
}

.glitch-message { 
    position: relative;
    font-family: 'Bangers', cursive; 
    font-size: 8vw; 
    line-height: 1;
    text-align: center; 
    color: var(--hero-yellow);
    text-shadow: 4px 4px 0px var(--hero-red);
    letter-spacing: 2px;
    z-index: 10;
    /* Quitamos la animación del contenedor principal para que no vibre todo el bloque y sea más legible */
    /* animation: glitch-skew 1s infinite linear alternate-reverse; */ 
}

/* Efecto Fantasma RGB */
.glitch-message::before,
.glitch-message::after {
    content: "TUVE QUE MATAR\A A MI VERSIÓN INGENUA";
    white-space: pre-wrap;
    position: absolute;
    top: 0; left: 0; width: 100%; height: 100%;
    background: black; 
    z-index: -1; /* <--- ¡ESTA ES LA CLAVE! ENVÍA EL FONDO NEGRO ATRÁS */
}

.glitch-message::before {
    left: 3px;
    text-shadow: -2px 0 var(--hero-red);
    clip: rect(44px, 450px, 56px, 0);
    animation: glitch-anim-1 3s infinite linear alternate-reverse;
}

.glitch-message::after {
    left: -3px;
    text-shadow: -2px 0 blue;
    clip: rect(44px, 450px, 56px, 0);
    animation: glitch-anim-2 3s infinite linear alternate-reverse;
}

/* =========================================
   5. FASE 3: RELOJ & UI ANTIHÉROE
   ========================================= */
#countdown-layer { background: var(--bg-color); z-index: 50; }

.time { 
    font-family: 'Bangers', cursive; 
    font-size: 12vw; 
    color: white;
    -webkit-text-stroke: 2px black;
    text-shadow: 8px 8px 0px var(--hero-red);
}

#enter-gallery-btn {
    margin-top: 3rem; 
    padding: 15px 40px; 
    background: var(--hero-yellow); 
    color: black; 
    border: var(--comic-border); 
    box-shadow: var(--comic-shadow);
    font-family: 'Bangers', cursive; 
    font-size: 1.8rem; 
    cursor: pointer; 
    text-transform: uppercase; 
    transition: 0.2s; 
    transform: rotate(-2deg);
}
#enter-gallery-btn:hover { 
    background: white; 
    box-shadow: 2px 2px 0px #000;
    transform: rotate(0deg) translate(4px, 4px);
}

/* =========================================
   6. FASE 4: GALERÍA 3D & FORMULARIO
   ========================================= */
#gallery-layer { opacity: 0; transition: opacity 1s; z-index: 10; }
#canvas-container { position: absolute; top: 0; left: 0; width: 100%; height: 100%; z-index: 1; }

.logo { 
    position: fixed; top: 30px; left: 30px; 
    font-family: 'Bangers', cursive; 
    font-size: 1.5rem; 
    color: var(--hero-yellow);
    background: black;
    padding: 5px 15px;
    transform: skew(-10deg);
    border: 2px solid white;
    z-index: 20;
}

#ui-layer { position: absolute; top: 0; left: 0; width: 100%; height: 100%; z-index: 2; pointer-events: none; }

.slide-content { 
    position: absolute; top: 20%; left: 10%; width: 80%; max-width: 500px; 
    opacity: 0; transform: translateY(30px); transition: all 0.5s ease; pointer-events: auto; 
}
.slide-content.active { opacity: 1; transform: translateY(0); }

.catalogue-number {
    background: var(--hero-red); color: white; padding: 2px 8px;
    font-family: 'Courier Prime', monospace; font-weight: bold;
    display: inline-block; margin-bottom: 10px; box-shadow: 3px 3px 0px black;
}

.slide-content h1 { 
    font-family: 'Bangers', cursive; font-size: 5rem; line-height: 0.9; 
    margin-bottom: 1rem; color: var(--hero-yellow);
    text-shadow: 5px 5px 0px black; -webkit-text-stroke: 1px black;
}

.description { 
    background: white; color: black; padding: 20px; 
    border: var(--comic-border); box-shadow: 8px 8px 0px black;
    font-family: 'Montserrat', sans-serif; font-weight: 600;
    position: relative;
}

/* Formulario */
#gallery-form label { display: block; margin-top: 15px; margin-bottom: 5px; font-weight: 800; font-size: 0.8rem; letter-spacing: 1px; }
#gallery-form input { 
    background: black; border: 2px solid var(--hero-yellow); color: var(--hero-yellow); 
    padding: 15px; width: 100%; font-family: 'Courier Prime'; font-size: 1.1rem; 
    box-sizing: border-box; outline: none;
}
#gallery-form button { 
    margin-top: 10px; background: var(--hero-red); color: white; border: 2px solid black; 
    padding: 15px; font-family: 'Bangers'; font-size: 1.4rem; cursor: pointer; width: 100%; 
    box-shadow: 5px 5px 0px white; transition: 0.2s;
}
#gallery-form button:hover { background: white; color: black; box-shadow: 5px 5px 0px var(--hero-red); }

.scroll-hint { font-family: 'Courier Prime'; font-size: 0.8rem; }

/* =========================================
   7. KEYFRAMES
   ========================================= */
@keyframes glitch-anim-1 {
    0% { clip: rect(20px, 9999px, 81px, 0); }
    20% { clip: rect(60px, 9999px, 10px, 0); }
    40% { clip: rect(10px, 9999px, 50px, 0); }
    60% { clip: rect(90px, 9999px, 25px, 0); }
    80% { clip: rect(30px, 9999px, 70px, 0); }
    100% { clip: rect(55px, 9999px, 95px, 0); }
}
@keyframes glitch-anim-2 {
    0% { clip: rect(85px, 9999px, 15px, 0); }
    20% { clip: rect(10px, 9999px, 90px, 0); }
    40% { clip: rect(50px, 9999px, 20px, 0); }
    60% { clip: rect(25px, 9999px, 60px, 0); }
    80% { clip: rect(75px, 9999px, 40px, 0); }
    100% { clip: rect(5px, 9999px, 85px, 0); }
}
@keyframes glitch-skew {
    0% { transform: skew(1deg); } 10% { transform: skew(-2deg); }
    20% { transform: skew(3deg); } 30% { transform: skew(0deg); }
    40% { transform: skew(4deg); } 50% { transform: skew(-1deg); }
    100% { transform: skew(0deg); }
}

/* Responsive */
@media (max-width: 768px) {
    .glitch-message { font-size: 12vw; }
    .slide-content h1 { font-size: 3.5rem; }
    .time { font-size: 18vw; }
}
